# Pixel Mercenary Guild - 프로덕션 디자인 문서

> game_id: game_0003
> repo: mg-game-0003
> title_kr: 픽셀 용병단 키우기
> title_en: Pixel Mercenary Guild
> genre_tags: idle, jrpg, combat
> doc_type: production_design
> source_of_truth: docs/design/gdd_game_0003.json
> last_updated: 2025-12-19

---

## 1. 재미 요소 (Fun Factors)

### 1.1 핵심 재미 (Core Fun)
| 요소 | 설명 | 강도 |
|------|------|------|
| **용병 육성** | 용병을 강화하고 성장시키는 재미 | ★★★★★ |
| **전투 전략** | 턴제 전투에서 스킬 조합과 타이밍 | ★★★★☆ |
| **파티 구성** | 시너지를 고려한 최적 파티 편성 | ★★★★☆ |
| **방치 성장** | 오프라인에서도 계속되는 성장 | ★★★☆☆ |

### 1.2 만족감 요소 (Satisfaction)
- **레벨업**: 용병 레벨업 시 스탯 증가 연출
- **스킬 발동**: 화려한 스킬 이펙트와 데미지 표시
- **스테이지 클리어**: 보상 획득 연출
- **장비 획득**: 희귀 장비 드롭 시 특별 연출

### 1.3 도전 요소 (Challenge)
```
도전 구조:
├── 보스 스테이지 (5/10/15...)
├── 속성 상성 시스템
├── 타임 어택 모드
├── 무한 던전 (진행 기록)
└── 길드 레이드 (협동)
```

### 1.4 사회적 요소 (Social)
- **길드 시스템**: 길드 가입, 길드 보스 레이드
- **친구 용병 대여**: 친구의 용병 소환
- **PVP 아레나**: 비동기 PVP 대전
- **랭킹**: 스테이지/PVP/길드 랭킹

---

## 2. 게임 루프 (Game Loop)

### 2.1 코어 루프 (1~3분)
```
┌─────────────────────────────────────────────────┐
│                    코어 루프                      │
├─────────────────────────────────────────────────┤
│  [스테이지 선택] → [파티 편성] → [전투 시작]      │
│       ↑                              ↓           │
│       └──── [보상 수령] ← [전투 결과] ←┘         │
└─────────────────────────────────────────────────┘
```

**단계별 상세:**
1. **스테이지 선택** (5초): 진행할 스테이지 선택
2. **파티 편성** (10~30초): 용병 배치 및 장비 확인
3. **전투 시작** (1~2분): 턴제 전투 진행
4. **전투 결과** (5초): 승패 판정 및 결과 표시
5. **보상 수령** (3초): 경험치, 골드, 아이템 획득

### 2.2 세션 루프 (5~15분)
```
[접속] → [방치 보상] → [일일 퀘스트 확인] → [스테이지 진행] → [용병 강화]
                                                    ↓
                                    [장비 강화] → [다음 세션 준비]
```

**세션 구성:**
- 방치 보상 수령: 30초
- 스테이지 3~5회 진행: 5~10분
- 용병/장비 강화: 2~3분
- 퀘스트 확인: 1분

### 2.3 메타 루프 (장기)
```
┌──────────────────────────────────────────────────────┐
│                     메타 진행                         │
├──────────────────────────────────────────────────────┤
│  [스테이지 클리어] → [새 용병 획득] → [파티 강화]      │
│         ↓                              ↓             │
│  [새 지역 해금]                   [프레스티지 전환]    │
│         ↓                              ↓             │
│  [고난이도 콘텐츠] ←──────────────────┘              │
└──────────────────────────────────────────────────────┘
```

### 2.4 플로우 다이어그램
```
[앱 시작]
    ↓
[로딩 (방치 보상 계산)]
    ↓
[메인 화면] ─────→ [용병 관리]
    │              [장비 관리]
    │              [상점]
    │              [길드]
    ↓
[모험] → [월드 맵] → [스테이지 선택]
                         ↓
                    [전투 화면]
                         ↓
                    [결과 화면]
```

---

## 3. BM 모델 (Business Model)

### 3.1 수익화 전략
| 채널 | 비중 | 설명 |
|------|------|------|
| **리워드 광고** | 40% | 경험치 2배, 보상 2배, 무료 뽑기 |
| **용병 뽑기** | 30% | 가챠 시스템 (확률 공개) |
| **편의 기능** | 15% | 자동 전투, 빠른 진행 |
| **월정액** | 10% | 일일 보석, VIP 혜택 |
| **배틀 패스** | 5% | 시즌 보상 |

### 3.2 과금 포인트
```
비과금 유저 경험:
├── 모든 스테이지 클리어 가능 (시간 소요)
├── 무료 일일 뽑기 1회
├── 광고 시청으로 진행 가속
└── 이벤트로 SR 용병 획득

과금 유저 혜택:
├── 광고 제거 + VIP ($7.99/월)
├── 보석 패키지 ($0.99~$99.99)
├── 스타터 팩 ($4.99) - SSR 선택권
├── 월정액 ($9.99) - 일일 보석 300
└── 배틀 패스 ($14.99) - 시즌 보상
```

### 3.3 가격 정책
| 상품 | 가격 | 가치 |
|------|------|------|
| 소량 보석 (100) | $0.99 | 뽑기 1회 |
| 중량 보석 (550) | $4.99 | 20% 보너스 |
| 대량 보석 (1200) | $9.99 | 30% 보너스 |
| 월정액 | $9.99/월 | 일일 보석 300 |
| 스타터 팩 | $4.99 | SSR 선택권 + 보석 500 |
| 성장 팩 | $14.99 | 경험치/골드 부스트 7일 |

### 3.4 리텐션 메커니즘
- **일일 보상**: 출석 체크 (7일 사이클, 7일차 SR 용병)
- **일일 퀘스트**: 4개 퀘스트 완료 시 보너스
- **주간 미션**: 길드 활동, PVP 참여
- **이벤트**: 콜라보, 한정 용병 이벤트
- **시즌 패스**: 60일 시즌 보상 트랙

---

## 4. 레벨 디자인 (Level Design)

### 4.1 난이도 곡선
```
전투력 요구
  ▲
  │                              ╭──────
  │                         ╭────╯
  │                    ╭────╯
  │               ╭────╯    <- 보스 스테이지
  │          ╭────╯
  │     ╭────╯
  │╭────╯
  └──────────────────────────────────────→ 스테이지
    1   10   20   30   40   50   60
```

**난이도 공식:**
```
적_체력 = 기본_체력 × (1 + 스테이지 × 0.12)
적_공격력 = 기본_공격력 × (1 + 스테이지 × 0.1)
보스_배율 = 일반_몬스터 × 5
```

### 4.2 콘텐츠 진행
| 지역 | 해금 조건 | 새로운 요소 |
|------|----------|-------------|
| 초원 | 시작 | 기본 전투, R 용병 |
| 숲 | 스테이지 10 | 속성 시스템, SR 드롭 |
| 사막 | 스테이지 25 | 디버프, 길드 해금 |
| 설산 | 스테이지 40 | 보스 레이드, SSR 드롭 |
| 화산 | 스테이지 60 | 무한 던전 |
| 심연 | 스테이지 80 | 엔드게임 콘텐츠 |
| 천공 | 프레스티지 | 영구 보너스 |

### 4.3 밸런싱 공식
```dart
// 용병 전투력 계산
int calculateCombatPower(Mercenary merc) {
  return merc.attack + merc.defense * 0.5 + merc.hp * 0.1
         + merc.skill.power * 2;
}

// 권장 전투력
int recommendedPower(int stage) {
  return 1000 + (stage * 150);
}

// 경험치 획득량
int expPerStage(int stage) {
  return 50 + (stage * 10);
}

// 방치 수익
int idleGoldPerHour(int highestStage) {
  return highestStage * 100;
}
```

### 4.4 보상 체계
| 보상 유형 | 획득 조건 | 수량 |
|-----------|----------|------|
| 스테이지 골드 | 클리어 | 50 + 스테이지×15 |
| 스테이지 경험치 | 클리어 | 30 + 스테이지×10 |
| 장비 드롭 | 확률 | R 70%, SR 25%, SSR 5% |
| 용병 조각 | 보스 스테이지 | 5~20개 |
| 일일 보석 | 출석 | 20~100 |

---

## 5. UI/UX 설계

### 5.1 정보 계층
```
레벨 1 (항상 표시):
├── 현재 골드/보석
├── 스태미나
├── 파티 전투력
└── 알림 배지

레벨 2 (상호작용 시):
├── 용병 상세 정보
├── 스킬 설명
├── 장비 비교
└── 스테이지 정보

레벨 3 (팝업):
├── 뽑기 결과
├── 레벨업 연출
├── 전투 결과
└── 확인 다이얼로그
```

### 5.2 네비게이션 흐름
```
[메인 화면]
    ├── [모험] → [월드 맵] → [스테이지] → [전투]
    ├── [용병] → [용병 목록] → [강화/진화]
    ├── [뽑기] → [뽑기 화면] → [결과]
    ├── [길드] → [길드 활동] → [레이드]
    ├── [상점] → [상품 목록]
    └── [설정] → [옵션]
```

### 5.3 피드백 시스템
| 이벤트 | 시각 | 청각 | 촉각 |
|--------|------|------|------|
| 스킬 발동 | 스킬 이펙트 | 스킬음 | 진동 (중) |
| 크리티컬 | 화면 흔들림 | 타격음 강조 | 진동 (강) |
| 레벨업 | 레벨업 연출 | 팡파레 | 진동 (중) |
| SSR 획득 | 황금 연출 | 특별 팡파레 | 진동 (강) |
| 전투 승리 | 승리 배너 | 승리 BGM | 진동 (약) |

### 5.4 접근성
- **자동 전투**: 전투 자동 진행 옵션
- **배속 기능**: 1x, 2x, 3x 전투 속도
- **스킵 기능**: 결과만 보기
- **폰트 크기**: 3단계 조절
- **색맹 모드**: 속성 아이콘 패턴 추가

---

## 6. 프로덕션 체크리스트

### 핵심 기능
- [x] 턴제 전투 시스템 (BattleGame - 실시간 자동 전투)
- [x] 용병 수집/강화 (5개 역할: Tank, Archer, Healer, Mage, Assassin)
- [x] 장비 시스템 (3종류 × 4등급, 강화 레벨)
- [x] 자동 전투 (역할별 AI: 탱커-근접, 힐러-아군힐, 궁수/마법사-원거리)
- [x] 방치 수익 (오프라인 골드 계산 및 수령)

### 콘텐츠
- [x] 무한 스테이지 진행 (난이도 자동 스케일링)
- [ ] 50+ 용병 (현재 5개 역할)
- [x] 랜덤 장비 생성 (드롭 + 가챠)
- [x] 스테이지별 보스 (5킬마다 보스 스폰)
- [ ] 튜토리얼

### 메타 시스템
- [x] 프레스티지 시스템 (Relics 화폐, 영구 업그레이드)
- [ ] 일일/주간 퀘스트
- [ ] 도전과제
- [x] 길드 시스템 (일일 출석 보상)
- [ ] PVP 아레나

### 수익화
- [x] 가챠 시스템 (Basic/Premium Chest)
- [ ] 광고 SDK
- [ ] IAP 상품
- [ ] 배틀 패스

### QA/최적화
- [ ] 전투 밸런싱
- [ ] 성능 최적화
- [ ] 메모리 관리
- [ ] 크래시 리포팅

### 출시 준비
- [ ] 스토어 에셋
- [ ] 앱 설명
- [ ] 법적 문서
- [ ] 소프트 런칭

---

## 7. KPI 목표

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| D1 리텐션 | 42% | Firebase Analytics |
| D7 리텐션 | 16% | Firebase Analytics |
| D30 리텐션 | 6% | Firebase Analytics |
| 세션 길이 | 10분 | 평균 세션 시간 |
| 일일 세션 | 3회 | DAU / 세션 수 |
| ARPU | $0.20~0.30 | 총 매출 / DAU |
| 광고 시청률 | 50~60% | 광고 노출 / DAU |
| 결제 전환율 | 4~6% | 결제 유저 / DAU |

---

*마지막 업데이트: 2025-12-19*
